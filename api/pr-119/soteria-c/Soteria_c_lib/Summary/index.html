<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Summary (soteria-c.Soteria_c_lib.Summary)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">Index</a> &#x00BB; <a href="../../index.html">soteria-c</a> &#x00BB; <a href="../index.html">Soteria_c_lib</a> &#x00BB; Summary</nav><header class="odoc-preamble"><h1>Module <code><span>Soteria_c_lib.Summary</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module anchored" id="module-T"><a href="#module-T" class="anchor"></a><code><span><span class="keyword">module</span> T</span><span> = <a href="../../../soteria/Soteria/C_values/Typed/T/index.html">Soteria.C_values.Typed.T</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Var"><a href="#module-Var" class="anchor"></a><code><span><span class="keyword">module</span> Var</span><span> = <a href="../../../soteria/Soteria/Soteria_symex/Var/index.html">Soteria.Soteria_symex.Var</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Agv"><a href="#module-Agv" class="anchor"></a><code><span><span class="keyword">module</span> Agv</span><span> = <a href="../Aggregate_val/index.html">Aggregate_val</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-after_exec"><a href="#type-after_exec" class="anchor"></a><code><span><span class="keyword">type</span> after_exec</span><span> = </span><span>[ </span></code><ol><li id="type-after_exec.After_exec" class="def variant constructor anchored"><a href="#type-after_exec.After_exec" class="anchor"></a><code><span>| </span><span>`After_exec</span></code></li></ol><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-pruned"><a href="#type-pruned" class="anchor"></a><code><span><span class="keyword">type</span> pruned</span><span> = </span><span>[ </span></code><ol><li id="type-pruned.Pruned" class="def variant constructor anchored"><a href="#type-pruned.Pruned" class="anchor"></a><code><span>| </span><span>`Pruned</span></code></li></ol><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-analysed"><a href="#type-analysed" class="anchor"></a><code><span><span class="keyword">type</span> analysed</span><span> = </span><span>[ </span></code><ol><li id="type-analysed.Analysed" class="def variant constructor anchored"><a href="#type-analysed.Analysed" class="anchor"></a><code><span>| </span><span>`Analysed</span></code></li></ol><code><span> ]</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-leaks_to_error"><a href="#val-leaks_to_error" class="anchor"></a><code><span><span class="keyword">val</span> leaks_to_error : 
  <span><span class="label">loc</span>:<span class="xref-unresolved">Cerb_location</span>.t <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="xref-unresolved">Cerb_location</span>.t list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>[&gt; `Memory_leak ]</span> * <span><span><span class="xref-unresolved">Cerb_location</span>.t <a href="../../../soteria/Soteria/Terminal/Call_trace/index.html#type-element">Soteria.Terminal.Call_trace.element</a></span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-raw"><a href="#type-raw" class="anchor"></a><code><span><span class="keyword">type</span> raw</span><span> = </span><span>{</span></code><ol><li id="type-raw.args" class="def record field anchored"><a href="#type-raw.args" class="anchor"></a><code><span>args : <span><a href="../Aggregate_val/index.html#type-t">Agv.t</a> list</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>List of arguments values, corresponding to the formal arguments in order. Really a form of <code>(x == a0) * (y == a1)</code></p><span class="comment-delim">*)</span></div></li><li id="type-raw.pre" class="def record field anchored"><a href="#type-raw.pre" class="anchor"></a><code><span>pre : <span><a href="../State/index.html#type-serialized">State.serialized</a> list</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Pre-condition as a list of fixes</p><span class="comment-delim">*)</span></div></li><li id="type-raw.pc" class="def record field anchored"><a href="#type-raw.pc" class="anchor"></a><code><span>pc : <span><span><a href="../../../soteria/Soteria/C_values/Typed/T/index.html#type-sbool">Soteria.C_values.Typed.T.sbool</a> <a href="../../../soteria/Soteria/C_values/Typed/index.html#type-t">Soteria.C_values.Typed.t</a></span> list</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Path condition. Whether it is in the post or in the pre, it doesn't matter for UX.</p><span class="comment-delim">*)</span></div></li><li id="type-raw.post" class="def record field anchored"><a href="#type-raw.post" class="anchor"></a><code><span>post : <a href="../State/index.html#type-serialized">State.serialized</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Post condition as a serialized heap</p><span class="comment-delim">*)</span></div></li><li id="type-raw.ret" class="def record field anchored"><a href="#type-raw.ret" class="anchor"></a><code><span>ret : <span><span>(<a href="../Aggregate_val/index.html#type-t">Agv.t</a>, <a href="../Error/index.html#type-t">Error.t</a> * <span><span class="xref-unresolved">Cerb_location</span>.t <a href="../../../soteria/Soteria/Terminal/Call_trace/index.html#type-t">Soteria.Terminal.Call_trace.t</a></span>)</span>
        <span class="xref-unresolved">Stdlib</span>.result</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Return value. If `ok` then it is the C value that the function returned, if `err` then it is a description of the bug exhibitied by the code</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_raw"><a href="#val-pp_raw" class="anchor"></a><code><span><span class="keyword">val</span> pp_raw : 
  <span><span class="xref-unresolved">Ppx_deriving_runtime</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-raw">raw</a> <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Ppx_deriving_runtime</span>.unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_raw"><a href="#val-show_raw" class="anchor"></a><code><span><span class="keyword">val</span> show_raw : <span><a href="#type-raw">raw</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppx_deriving_runtime</span>.string</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>_ t</span></span><span> = </span></code><ol><li id="type-t.After_exec" class="def variant constructor anchored"><a href="#type-t.After_exec" class="anchor"></a><code><span>| </span><span><span class="constructor">After_exec</span> : <a href="#type-raw">raw</a> <span class="arrow">&#45;&gt;</span> <span><a href="#type-after_exec">after_exec</a> <a href="#type-t">t</a></span></span></code></li><li id="type-t.Pruned" class="def variant constructor anchored"><a href="#type-t.Pruned" class="anchor"></a><code><span>| </span><span><span class="constructor">Pruned</span> : </span><span>{</span></code><ol><li id="type-t.raw" class="def record field anchored"><a href="#type-t.raw" class="anchor"></a><code><span>raw : <a href="#type-raw">raw</a>;</span></code></li><li id="type-t.memory_leaks" class="def record field anchored"><a href="#type-t.memory_leaks" class="anchor"></a><code><span>memory_leaks : <span><span><span class="xref-unresolved">Cerb_location</span>.t list</span> option</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>If <code>None</code>, no memory leak was detected. If <code>Some l</code>, then some memory leak was detected and, in addition, we return a list of all *known* code location where something that leaked was allocated. It is possible for this field to be <code>Some []</code>, which means that there was a leak, but we did not track any allocation site for it.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span><span> <span class="arrow">&#45;&gt;</span> <span><a href="#type-pruned">pruned</a> <a href="#type-t">t</a></span></span></code></li><li id="type-t.Analysed" class="def variant constructor anchored"><a href="#type-t.Analysed" class="anchor"></a><code><span>| </span><span><span class="constructor">Analysed</span> : </span><span>{</span></code><ol><li id="type-t.raw" class="def record field anchored"><a href="#type-t.raw" class="anchor"></a><code><span>raw : <a href="#type-raw">raw</a>;</span></code></li><li id="type-t.manifest_bugs" class="def record field anchored"><a href="#type-t.manifest_bugs" class="anchor"></a><code><span>manifest_bugs : <span><span>(<a href="../Error/index.html#type-t">Error.t</a> * <span><span class="xref-unresolved">Cerb_location</span>.t <a href="../../../soteria/Soteria/Terminal/Call_trace/index.html#type-t">Soteria.Terminal.Call_trace.t</a></span>)</span> list</span>;</span></code></li></ol><code><span>}</span><span> <span class="arrow">&#45;&gt;</span> <span><a href="#type-analysed">analysed</a> <a href="#type-t">t</a></span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : 'a. <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Var_graph"><a href="#module-Var_graph" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Var_graph/index.html">Var_graph</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Var_hashset"><a href="#module-Var_hashset" class="anchor"></a><code><span><span class="keyword">module</span> Var_hashset</span><span> = <a href="Var_graph/Node_set/index.html">Var_graph.Node_set</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-filter_pc"><a href="#val-filter_pc" class="anchor"></a><code><span><span class="keyword">val</span> filter_pc : 
  <span><a href="Var_graph/Node_set/index.html#type-t">Var_hashset.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span class="type-var">'a</span> <a href="../../../soteria/Soteria/C_values/Typed/index.html#type-t">Soteria.C_values.Typed.t</a></span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../../../soteria/Soteria/C_values/Typed/index.html#type-t">Soteria.C_values.Typed.t</a></span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-filter_serialized_state"><a href="#val-filter_serialized_state" class="anchor"></a><code><span><span class="keyword">val</span> filter_serialized_state : 
  <span><a href="Var_graph/Node_set/index.html#type-t">Var_hashset.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../State/index.html#type-serialized">State.serialized</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span>(<span><a href="../../../soteria/Soteria/C_values/Typed/T/index.html#type-sloc">Soteria.C_values.Typed.T.sloc</a> <a href="../../../soteria/Soteria/C_values/Typed/index.html#type-t">Soteria.C_values.Typed.t</a></span>
    * <span><span><a href="../Ctree_block/index.html#type-serialized">Ctree_block.serialized</a> <a href="../Csymex/Freeable/index.html#type-t">Csymex.Freeable.t</a></span> <a href="../Csymex/With_origin/index.html#type-t">Csymex.With_origin.t</a></span>)</span>
     list</span>,
    <span><span>(<span class="xref-unresolved">Cerb_frontend</span>.Symbol.sym
     * <span><a href="../../../soteria/Soteria/C_values/Typed/T/index.html#type-sloc">Soteria.C_values.Typed.T.sloc</a> <a href="../../../soteria/Soteria/C_values/Typed/index.html#type-t">Soteria.C_values.Typed.t</a></span>)</span>
      list</span>)</span>
    <span class="xref-unresolved">Soteria_c_lib__State_intf.Template.t</span></span>
  * <span><span><span class="xref-unresolved">Cerb_location</span>.t option</span> list</span></span></code></div><div class="spec-doc"><p>Removes any bit of the state that does not any &quot;relevant variables&quot;. i.e., bits that are not reachable from the precondition.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-init_reachable_vars"><a href="#val-init_reachable_vars" class="anchor"></a><code><span><span class="keyword">val</span> init_reachable_vars : <span><a href="#type-raw">raw</a> <span class="arrow">&#45;&gt;</span></span> <a href="Var_graph/Node_set/index.html#type-t">Var_hashset.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : 
  <span><span class="label">args</span>:<span><a href="../Aggregate_val/index.html#type-t">Agv.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">pre</span>:<span><a href="../State/index.html#type-serialized">State.serialized</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">pc</span>:<span><span><a href="../../../soteria/Soteria/C_values/Typed/T/index.html#type-sbool">Soteria.C_values.Typed.T.sbool</a> <a href="../../../soteria/Soteria/C_values/Typed/index.html#type-t">Soteria.C_values.Typed.t</a></span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">post</span>:<a href="../State/index.html#type-serialized">State.serialized</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">ret</span>:
    <span><span>(<a href="../Aggregate_val/index.html#type-t">Agv.t</a>, <a href="../Error/index.html#type-t">Error.t</a> * <span><span class="xref-unresolved">Cerb_location</span>.t <a href="../../../soteria/Soteria/Terminal/Call_trace/index.html#type-t">Soteria.Terminal.Call_trace.t</a></span>)</span>
      <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-after_exec">after_exec</a> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prune"><a href="#val-prune" class="anchor"></a><code><span><span class="keyword">val</span> prune : <span><span><a href="#type-after_exec">after_exec</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-pruned">pruned</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>This function prunes the summary by removing anything that isn't reachable from the arguments or the return value. It returns the updated summary, as well as a boolean capturing whether a memory leak was detected. A memory leak is detected if there was an unreachable block that was not freed.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-analyse"><a href="#val-analyse" class="anchor"></a><code><span><span class="keyword">val</span> analyse : 'a. <span><span class="label">fid</span>:<a href="../Ail_tys/index.html#type-sym">Ail_tys.sym</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-analysed">analysed</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Current criterion: a bug is manifest if its path condition is a consequence of the heap's and function arguments well-formedness conditions</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-manifest_bugs"><a href="#val-manifest_bugs" class="anchor"></a><code><span><span class="keyword">val</span> manifest_bugs : 
  <span><span class="label">fid</span>:<a href="../Ail_tys/index.html#type-sym">Ail_tys.sym</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<a href="../Error/index.html#type-t">Error.t</a> * <span><span class="xref-unresolved">Cerb_location</span>.t <a href="../../../soteria/Soteria/Terminal/Call_trace/index.html#type-t">Soteria.Terminal.Call_trace.t</a></span>)</span> list</span></span></code></div></div></div></body></html>
