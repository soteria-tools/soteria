<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>DecayMapS (soteria-rust.Soteria_rust_lib.Sptr.DecayMapS)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>let base_url = '../../../../';
let search_urls = ['../../../db.js','../../../../sherlodoc.js'];
</script><script src="../../../../odoc.support/odoc_search.js" defer="defer"></script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../index.html">Index</a> &#x00BB; <a href="../../../index.html">soteria-rust</a> &#x00BB; <a href="../../index.html">Soteria_rust_lib</a> &#x00BB; <a href="../index.html">Sptr</a> &#x00BB; DecayMapS</nav><div class="odoc-search"><div class="search-inner"><input class="search-bar" placeholder="ðŸ”Ž Type '/' to search..."/><div class="search-snake"></div><div class="search-result"></div></div></div><header class="odoc-preamble"><h1>Module type <code><span>Sptr.DecayMapS</span></code></h1><p>A map to store information on &quot;decayed&quot; pointers, namely mapping from locations to integers (their decayed) value.</p><p>It exposes two functions: <code>decay</code>, to convert a location to an integer (given the size and alignment of its allocation), and <code>from_exposed</code> which does the reverse operation. Importantly, while <code>decay</code> is total, <code>from_exposed</code> is partial: if a provenance cannot be guessed from the integer, <code>None</code> is returned.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-decay"><a href="#val-decay" class="anchor"></a><code><span><span class="keyword">val</span> decay : 
  <span><span class="label">expose</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">size</span>:<span><span>[&lt; <a href="../../../../soteria/Soteria/Bv_values/Typed/T/index.html#type-sint">Soteria_rust_lib.Typed.T.sint</a> ]</span> <a href="../../Typed/index.html#type-t">Typed.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">align</span>:<span><span>[&lt; <a href="../../../../soteria/Soteria/Bv_values/Typed/T/index.html#type-nonzero">Soteria_rust_lib.Typed.T.nonzero</a> ]</span> <a href="../../Typed/index.html#type-t">Typed.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>[&lt; <a href="../../../../soteria/Soteria/Bv_values/Typed/T/index.html#type-sloc">Soteria_rust_lib.Typed.T.sloc</a> ]</span> <a href="../../Typed/index.html#type-t">Typed.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-t">t</a> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><a href="../../../../soteria/Soteria/Bv_values/Typed/T/index.html#type-sint">Soteria_rust_lib.Typed.T.sint</a> <a href="../../Typed/index.html#type-t">Typed.t</a></span> * <span><a href="#type-t">t</a> option</span>)</span> <a href="../../Rustsymex/index.html#type-t">Rustsymex.t</a></span></span></code></div><div class="spec-doc"><p>Decays the given location into an integer, updating the decay map accordingly. If <code>expose</code> is true, the provenance is marked as exposed, and can be retrieved later with <code>from_exposed</code>. Returns the decayed integer, along with the updated decay map.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-from_exposed"><a href="#val-from_exposed" class="anchor"></a><code><span><span class="keyword">val</span> from_exposed : 
  <span><span><span>[&lt; <a href="../../../../soteria/Soteria/Bv_values/Typed/T/index.html#type-sint">Soteria_rust_lib.Typed.T.sint</a> ]</span> <a href="../../Typed/index.html#type-t">Typed.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-t">t</a> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span>(<span><a href="../../../../soteria/Soteria/Bv_values/Typed/T/index.html#type-sloc">Soteria_rust_lib.Typed.T.sloc</a> <a href="../../Typed/index.html#type-t">Typed.t</a></span>
    * <span><a href="../../../../soteria/Soteria/Bv_values/Typed/T/index.html#type-sint">Soteria_rust_lib.Typed.T.sint</a> <a href="../../Typed/index.html#type-t">Typed.t</a></span>)</span>
     option</span>
   * <span><a href="#type-t">t</a> option</span>)</span>
    <a href="../../Rustsymex/index.html#type-t">Rustsymex.t</a></span></span></code></div><div class="spec-doc"><p>Tries finding, for the given integer, the matching provenance in the decay map. If found, it returns that provenance, along with the exposed address for that allocation at offset 0. Otherwise returns <code>None</code>.</p></div></div></div></body></html>
