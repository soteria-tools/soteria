let swap p
  requires
    take x = RW(p);
    take y = RW(p + 1)
  ensures
    take z = RW(p);
    take w = RW(p + 1);
    z == y;
    w == x
=
  let x = [p] in
  let y = [p + 1] in
  [p] <- y;
  [p + 1] <- x;
  0
